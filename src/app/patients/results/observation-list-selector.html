<div class="panel panel-primary observation-list-selector">
  <div class="panel-heading">
    <h3 class="panel-title">Observations to Display</h3>
  </div>

  <ul class="radar-tabs">
    <li ng-repeat="group in groups" ng-class="{'active': isActive(group)}">
      <a href="" ng-click="setGroup(group)">{{group.shortName}}</a>
    </li>
    <li ng-class="{'active': isActive(null)}"><a href="" ng-click="setGroup(null)">All</a></li>
  </ul>



  <div class="panel-body">
    <div loading="loading">
      <div list-helper="observations as page" list-helper-options="{perPage: 5, sortBy: 'name'}">
        <table class="table table-condensed table-striped observations">
          <thead>
            <tr>
              <th></th>
              <th sort-helper="name">Name</th>
              <th sort-helper="shortName">Short Name</th>
              <th sort-helper="sampleType.label">Sample Type</th>
              <th sort-helper="units">Units</th>
              <th sort-helper="minValue">Min Value</th>
              <th sort-helper="maxValue">Max Value</th>
              <th sort-helper="getCount(this)">Count</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <th colspan="9">Selected</th>
            </tr>

            <tr ng-if="selectedObservations.length === 0">
              <td colspan="9" class="empty">Please choose some observations from the list below.</td>
            </tr>

            <tr ng-repeat="observation in selectedObservations">

              <td>
                <button type="button" ng-click="remove(observation)" class="btn btn-primary btn-xs"><i
                    class="fa fa-minus"></i></button>
              </td>

              <td>{{observation.name}}</td>
              <td>{{observation.shortName}}</td>
              <td>{{observation.sampleType.label}}</td>
              <td>{{observation.units | missing}}</td>
              <td>{{observation.minValue | missing}}</td>
              <td>{{observation.maxValue | missing}}</td>
              <td>{{getCount(observation) | missing}}</td>

              <td>
                <div class="btn-group">
                  <button type="button" ng-click="up(observation)" class="btn btn-primary btn-xs"><i
                      class="fa fa-arrow-up"></i></button>
                  <button type="button" ng-click="down(observation)" class="btn btn-primary btn-xs"><i
                      class="fa fa-arrow-down"></i></button>
                </div>
              </td>
            </tr>

            <tr>
              <th colspan="9">Available</th>
            </tr>

            <tr>
              <td colspan="9">
                <div filter-helper></div>
              </td>
            </tr>

            <tr ng-if="!observations.length">
              <td colspan="9" class="empty">No results available.</td>
            </tr>

            <tr ng-if="observations.length && !page.getCount()">
              <td colspan="9" class="empty">No matching observations.</td>
            </tr>
            <tr ng-repeat="observation in page.getItems()">  
              <td>
                <button type="button" ng-click="add(observation)" class="btn btn-primary btn-xs"><i
                    class="fa fa-plus"></i></button>
              </td>

              <td>{{observation.name}}</td>
              <td>{{observation.shortName}}</td>
              <td>{{observation.sampleType.label}}</td>
              <td>{{observation.units | missing}}</td>
              <td>{{observation.minValue | missing}}</td>
              <td>{{observation.maxValue | missing}}</td>
              <td>{{getCount(observation) | missing}}</td>

              <td></td>
            </tr>
          </tbody>
        </table>

        <div pagination-helper></div>
      </div>
    </div>
  </div>
</div>